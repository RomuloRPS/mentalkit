(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{EIUX:function(e,l,n){"use strict";n.r(l);var t=n("8Y7J");class o{}var i=n("pMnS"),r=n("MKJQ"),s=n("sZkV"),u=n("SVse"),a=n("mrSG"),c=n("6/aK"),d=n("G/xI"),h=n("5FLp"),g=n("rlVk"),m=n("aY4x"),p=n("a0SF"),f=n("AytR"),R=n("YpDY");class b{constructor(e,l,n,t,o,i,r,s,u){this.locale=e,this.router=l,this.expenseReportService=n,this.cacheService=t,this.toasterService=o,this.menuController=i,this.popoverController=r,this.categoryService=s,this.translateService=u,this.expenses=[],this.selecteds=[],this.isSearchable=!1,this.listLength=10,this.loadingFirstTime=!0,this.loading=!0,this.menuFilters={category:null,status:"SENT"}}openOptions(e){return a.a(this,void 0,void 0,(function*(){const l={component:R.a,translucent:!0,event:e},n=yield this.popoverController.create(l);return yield n.present()}))}getCurrency(e){return e?e.getRelation("currency").getAttribute("code"):c.a.getStandardCurrency()}setSelect(e){this.selectOn=e}toDefinition(){this.router.navigate(["definition"])}ngOnInit(){}filter(e){e&&"categories"==e.jsonApiType.split("/")[2]&&(this.menuFilters.category=e),this.getExpenseReports(),this.menuController.close()}clearFilters(){this.menuFilters={category:null,status:"SENT"},this.getExpenseReports(),this.menuController.close()}getExpenseReports(e){const l={term:e,menuFilters:this.menuFilters,limit:this.listLength};this.expenseReportService.onlyOffline().get(l).subscribe(e=>{this.loadingFirstTime=!1,this.expenses=e.data,console.log(e),this.loading=!1})}getExpensesLength(){this.expenseReportService.onlyOffline().get().subscribe(e=>{this.expenseReportsLength=e.data.length})}doRefresh(){this.loading=!0,this.refresh()}refresh(e){this.clearSelect(),window.navigator.onLine?this.cacheService.cacheOneServiceIncluded(this.expenseReportService,h.a,{},null).then(l=>{e&&e.target&&e.target.complete(),this.loading=!1,this.getExpensesLength(),this.getExpenseReports()}).catch(l=>{this.loading=!1,this.toasterService.error(this.translateService.instant("NOT_POSSIBLE_TO_UPDATE_THE_LIST")),this.getExpenseReports(),e&&e.target&&e.target.complete()}):(this.loading=!1,this.toasterService.error(this.translateService.instant("NOT_POSSIBLE_TO_UPDATE_THE_LIST")),this.getExpenseReports(),e&&e.target&&e.target.complete())}checkBlur(){this.changeSearch()}toExpenseEdit(e){this.router.navigate(["expense-report-view/"+e])}trySelect(e){0!=this.selecteds.length?e.selected&&this.selecteds.length>1?this.removeSelectedTask(e):e.selected||this.selectTask(e):this.toExpenseEdit(e.getApiId())}selectTask(e){this.selecteds.push(e);const l=this.expenses.findIndex(l=>l.getApiId()==e.id);this.expenses[l].selected=!0}removeSelectedTask(e){const l=this.selecteds.findIndex(l=>l.id==e.id);this.selecteds.splice(l,1);const n=this.expenses.findIndex(l=>l.getApiId()==e.id);this.expenses[n].selected=!1}getIconUrl(e){return`${f.a.api}/attachments/${e}/preview`}getRoleBadgeColor(e){switch(e){case"ADMIN":return"primary";case"FINANCIAL":return"warning";case"REFUNDER":return"secondary";case"APPROVING":return"success"}}getCardColor(e){return e.selected?"medium":""}triggerLongPress(e){e.selected?e.selected&&1==this.selecteds.length&&this.removeSelectedTask(e):this.selectTask(e)}changeSearch(){this.isSearchable=!this.isSearchable,this.isSearchable&&(this.search.setFocus(),this.clearSelect())}clearSelect(){this.selecteds=[],this.expenses.map(e=>(e.selected&&(e.selected=!1),e))}openMenu(){this.menuController.open("filters")}deleteUsers(){let e=[];this.expenses.forEach(l=>{l.selected&&e.push(l.getApiId())}),this.expenseReportService.delete(e).then(e=>{this.refresh()}),this.loadingFirstTime=!0}searchTask(){this.infiniteScroll.el.disabled=!1,this.listLength=10,this.searchTerm.length>=3&&this.getExpenseReports(this.searchTerm),0===this.searchTerm.length&&this.getExpenseReports()}toExpenseReportCreate(){this.router.navigate(["expense-report-edit"])}toExpenseReportView(e){this.router.navigate(["revision-view/"+e])}loadMoreData(e){this.listLength=this.listLength+10,this.getExpenseReports(this.searchTerm),setTimeout(()=>{this.expenses.length<this.listLength&&(e.target.disabled=!0),e.target.complete()},500)}}var v=n("iInd"),C=n("TSSN"),E=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,5,"ion-buttons",[["slot","end"]],null,null,null,r.bb,r.f)),t["\u0275did"](1,49152,null,0,s.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](2,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.changeSearch()&&t),t}),r.ab,r.e)),t["\u0275did"](3,49152,null,0,s.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](4,0,null,0,1,"ion-icon",[["name","search-outline"]],null,null,null,r.ob,r.s)),t["\u0275did"](5,49152,null,0,s.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],(function(e,l){e(l,5,0,"search-outline")}),null)}function N(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"ion-title",[],null,null,null,r.Qb,r.U)),t["\u0275did"](1,49152,null,0,s.xb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275ted"](-1,0,["Op\xe7\xe3o"]))],null,null)}function x(e){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{search:0}),t["\u0275qud"](671088640,2,{infiniteScroll:0}),(e()(),t["\u0275eld"](2,0,null,null,11,"ion-header",[["class","ion-no-border"]],null,null,null,r.nb,r.r)),t["\u0275did"](3,49152,null,0,s.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](4,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,r.Rb,r.V)),t["\u0275did"](5,49152,null,0,s.zb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(e()(),t["\u0275eld"](6,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,r.bb,r.f)),t["\u0275did"](7,49152,null,0,s.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](8,0,null,0,1,"ion-menu-button",[],null,null,null,r.xb,r.C)),t["\u0275did"](9,49152,null,0,s.R,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275and"](16777216,null,0,1,null,S)),t["\u0275did"](11,16384,null,0,u.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,0,1,null,N)),t["\u0275did"](13,16384,null,0,u.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](14,0,null,null,46,"ion-content",[["color","light"],["id","main"]],null,null,null,r.ib,r.m)),t["\u0275did"](15,49152,null,0,s.u,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(e()(),t["\u0275eld"](16,0,null,0,14,"ion-card",[["class","card-no-border card-no-margin"]],null,null,null,r.fb,r.g)),t["\u0275did"](17,49152,null,0,s.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](18,0,null,0,12,"ion-item",[["lines","none"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.toDefinition()&&t),t}),r.tb,r.x)),t["\u0275did"](19,49152,null,0,s.H,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{lines:[0,"lines"]},null),(e()(),t["\u0275eld"](20,0,null,0,1,"ion-icon",[["color","primary"],["name","ellipse"],["slot","start"]],null,null,null,r.ob,r.s)),t["\u0275did"](21,49152,null,0,s.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],name:[1,"name"]},null),(e()(),t["\u0275eld"](22,0,null,0,2,"ion-label",[],null,null,null,r.ub,r.y)),t["\u0275did"](23,49152,null,0,s.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275ted"](-1,0,["Defini\xe7\xe3o"])),(e()(),t["\u0275eld"](25,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,r.bb,r.f)),t["\u0275did"](26,49152,null,0,s.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](27,0,null,0,3,"ion-button",[["color","primary"]],null,null,null,r.ab,r.e)),t["\u0275did"](28,49152,null,0,s.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(e()(),t["\u0275eld"](29,0,null,0,1,"ion-icon",[["name","chevron-forward-outline"]],null,null,null,r.ob,r.s)),t["\u0275did"](30,49152,null,0,s.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null),(e()(),t["\u0275eld"](31,0,null,0,14,"ion-card",[["class","card-no-border card-no-margin"]],null,null,null,r.fb,r.g)),t["\u0275did"](32,49152,null,0,s.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](33,0,null,0,12,"ion-item",[["lines","none"]],null,null,null,r.tb,r.x)),t["\u0275did"](34,49152,null,0,s.H,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{lines:[0,"lines"]},null),(e()(),t["\u0275eld"](35,0,null,0,1,"ion-icon",[["color","primary"],["name","ellipse"],["slot","start"]],null,null,null,r.ob,r.s)),t["\u0275did"](36,49152,null,0,s.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],name:[1,"name"]},null),(e()(),t["\u0275eld"](37,0,null,0,2,"ion-label",[],null,null,null,r.ub,r.y)),t["\u0275did"](38,49152,null,0,s.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275ted"](-1,0,["Preval\xeancia"])),(e()(),t["\u0275eld"](40,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,r.bb,r.f)),t["\u0275did"](41,49152,null,0,s.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](42,0,null,0,3,"ion-button",[["color","primary"]],null,null,null,r.ab,r.e)),t["\u0275did"](43,49152,null,0,s.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(e()(),t["\u0275eld"](44,0,null,0,1,"ion-icon",[["name","chevron-forward-outline"]],null,null,null,r.ob,r.s)),t["\u0275did"](45,49152,null,0,s.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null),(e()(),t["\u0275eld"](46,0,null,0,14,"ion-card",[["class","card-no-border card-no-margin"]],null,null,null,r.fb,r.g)),t["\u0275did"](47,49152,null,0,s.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](48,0,null,0,12,"ion-item",[["lines","none"]],null,null,null,r.tb,r.x)),t["\u0275did"](49,49152,null,0,s.H,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{lines:[0,"lines"]},null),(e()(),t["\u0275eld"](50,0,null,0,1,"ion-icon",[["color","primary"],["name","ellipse"],["slot","start"]],null,null,null,r.ob,r.s)),t["\u0275did"](51,49152,null,0,s.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],name:[1,"name"]},null),(e()(),t["\u0275eld"](52,0,null,0,2,"ion-label",[],null,null,null,r.ub,r.y)),t["\u0275did"](53,49152,null,0,s.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275ted"](-1,0,["Interven\xe7\xf5es"])),(e()(),t["\u0275eld"](55,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,r.bb,r.f)),t["\u0275did"](56,49152,null,0,s.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["\u0275eld"](57,0,null,0,3,"ion-button",[["color","primary"]],null,null,null,r.ab,r.e)),t["\u0275did"](58,49152,null,0,s.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),(e()(),t["\u0275eld"](59,0,null,0,1,"ion-icon",[["name","chevron-forward-outline"]],null,null,null,r.ob,r.s)),t["\u0275did"](60,49152,null,0,s.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],(function(e,l){var n=l.component;e(l,5,0,"primary"),e(l,11,0,!n.isSearchable),e(l,13,0,!n.isSearchable),e(l,15,0,"light"),e(l,19,0,"none"),e(l,21,0,"primary","ellipse"),e(l,28,0,"primary"),e(l,30,0,"chevron-forward-outline"),e(l,34,0,"none"),e(l,36,0,"primary","ellipse"),e(l,43,0,"primary"),e(l,45,0,"chevron-forward-outline"),e(l,49,0,"none"),e(l,51,0,"primary","ellipse"),e(l,58,0,"primary"),e(l,60,0,"chevron-forward-outline")}),null)}function y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-revisions-list",[],null,null,null,x,E)),t["\u0275did"](1,114688,null,0,b,[t.LOCALE_ID,v.m,g.a,m.a,p.a,s.Eb,s.Jb,d.a,C.k],null,null)],(function(e,l){e(l,1,0)}),null)}var D=t["\u0275ccf"]("app-revisions-list",b,y,{},{},[]),I=n("IveJ"),Z=n("34Ku"),T=n("mk1J"),F=n("na1C"),w=n("JFOv"),k=n("xijX"),L=n("smCF"),O=n("wQjt"),A=n("yGWc"),P=n("+l5I"),_=n("ssC5"),J=n("3+nr"),M=n("7h0Y"),U=n("2OA5"),V=n("s7LF"),j=n("Zr1d"),B=n("Pn9U"),q=n("4zgz"),z=n("qrQb"),H=n("Ioyb"),Y=n("t8sF"),G=n("ozRC"),Q=n("pjjr");class K{}var X=n("iTUp"),$=n("OPcz"),W=n("Rwpb");n.d(l,"RevisionsListPageModuleNgFactory",(function(){return ee}));var ee=t["\u0275cmf"](o,[],(function(e){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,D,I.a,Z.a,T.a,F.a,w.a,k.a,L.a,O.a,A.a,P.a,_.a,J.a,M.a,U.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,u.n,u.m,[t.LOCALE_ID,[2,u.v]]),t["\u0275mpd"](4608,s.b,s.b,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,s.Fb,s.Fb,[s.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,s.Jb,s.Jb,[s.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,V.m,V.m,[]),t["\u0275mpd"](4608,j.a,j.a,[]),t["\u0275mpd"](4608,B.a,B.a,[]),t["\u0275mpd"](4608,q.a,q.a,[]),t["\u0275mpd"](4608,z.a,z.a,[s.Fb]),t["\u0275mpd"](4608,H.a,H.a,[]),t["\u0275mpd"](4608,Y.a,Y.a,[]),t["\u0275mpd"](4608,G.a,G.a,[H.a,Y.a,s.Ib]),t["\u0275mpd"](4608,Q.a,Q.a,[]),t["\u0275mpd"](1073742336,u.b,u.b,[]),t["\u0275mpd"](1073742336,s.Bb,s.Bb,[]),t["\u0275mpd"](1073742336,v.q,v.q,[[2,v.v],[2,v.m]]),t["\u0275mpd"](1073742336,K,K,[]),t["\u0275mpd"](1073742336,V.l,V.l,[]),t["\u0275mpd"](1073742336,V.c,V.c,[]),t["\u0275mpd"](1073742336,X.a,X.a,[]),t["\u0275mpd"](1073742336,$.SignaturePadModule,$.SignaturePadModule,[]),t["\u0275mpd"](1073742336,C.h,C.h,[]),t["\u0275mpd"](1073742336,W.a,W.a,[]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,v.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);